Refactoriza el siguiente código: $ARGUMENTS

Principios:
1. Lee primero TODO el código involucrado antes de proponer cambios
2. Mantén la funcionalidad existente intacta
3. No cambies la interfaz pública (props, emits) a menos que sea necesario
4. Prioriza: legibilidad > rendimiento > brevedad
5. Si extraes lógica a un composable, colócala en `src/composables/`
6. Verifica con `npm run build` que no se rompió nada

Presenta un diff resumido de los cambios al finalizar.
